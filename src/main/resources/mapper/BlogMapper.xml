<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.warren.fleet.blog.dao.BlogDao">


    <select id="selectBlogByBid" parameterType="int" resultType="Blog">
        select * from blog where bid = #{bid};
    </select>

    
    <resultMap id="AuthorBlogs" type="Blog">
        <id column="bid" property="bid" />
        <result column="title" property="title"/>
        <result column="content" property="content"/>
        <result column="f_time" property="f_time"/>
        <result column="l_time" property="l_time"/>
        <association property="oneAuthor" javaType="User">
            <id property="uid" column="uid"/>
            <result column="uname" property="uname"/>
            <result column="upasswd" property="upasswd"/>
        </association>
    </resultMap>
    <select id="selectBlogsByUserId" parameterType="int" resultMap="AuthorBlogs">
        select * from blog where author = #{uid};
    </select>


    <insert id="insert" parameterType="Blog">
        insert into blog(title, content, author, f_time, l_time) values(#{title}, #{content}, #{author}, #{f_time},#{l_time});
    </insert>

    <update id="update" parameterType="Blog">
        update blog set title = #{title}, content=#{content},l_time = #{l_time} where bid = #{bid};
    </update>

    
</mapper>